#!/usr/bin/env python
# -*- coding: utf-8 -*-
# -----------------------------------------------

import argparse
from pypdm.dbc._sqlite import SqliteDBC
from src.config import SETTINGS
from src.core import adb


def args() :
    parser = argparse.ArgumentParser(
        formatter_class=argparse.RawDescriptionHelpFormatter,
        prog='AI 自动签到',
        description='到达打卡时间点时，通过 AI 识别人脸为本人，通过 ADB 自动解锁手机签到打卡', 
        epilog='\r\n'.join([
            '示例: ', 
            '',
            '....'
        ])
    )
    parser.add_argument('-r', '--record', dest='record', action='store_true', default=False, help='录入模式: 用于录入人脸特征点; 默认为识别模式')
    parser.add_argument('-c', '--camera', dest='camera', action='store_true', default=False, help='仅[录入模式]有效: 摄像头录入方式; 默认为图片录入方式')
    parser.add_argument('-p', '--password', dest='password', type=str, default='123456', help='仅[识别模式]有效: 手机的锁屏密码')
    return parser.parse_args()


def main(args) :
    if (args.record) :
        record(args)

    else :
        recognise(args)

    # 思路：
    #   1. 定时器：到达打卡时间范围（上班/下班各一）
    #   2. 判断今天是否已打卡，若否继续
    #   3. 打开电脑摄像头，通过 AI 人脸识别判断当前屏幕前的是否为本人，若是继续
    #   4. 通过 ADB 指令解锁手机，并进入 APP 打卡
    #   5. 打卡成功，标记今天已打卡，手机锁屏
    #
    #   备注
    #       1. 上班卡: 9:00 开始，只要未打则半小时打一次
    #       2. 下班卡: 18:00 开始，在 ADB 连通的情况下，每隔半小时打一次，直到 24:00
    #       3. 上传人脸图片时，先做初始动作： 框取脸部位置，调整缩放图片的尺寸一致
    

def record(args) :
    '''
    录入模式
    '''
    from src.core.record_feature import RecordFace
    rf = RecordFace()
    rf.input_face(args.camera)

    return


def recognise(args) :
    '''
    识别模式
    '''
    adb.exec(SETTINGS.unlock_screen, { 'password': args.password })
    adb.exec(SETTINGS.open_app)
    adb.exec(SETTINGS.check_in)



def init() :
    sdbc = SqliteDBC(options=SETTINGS.database)
    sdbc.exec_script(SETTINGS.sqlpath)



if '__main__' == __name__ :
    # init()
    # main(args())

    from src.utils.math_utils import *
    sss = "0.9320523227732415, -0.08890823687639016, 0.0800090910068732, 0.7340470713731626, 0.04151820415403201, -0.029412338114933254, (0.6247431053858918+0j), (0.035637344462577505+0.09476285732351582j), (0.035637344462577505-0.09476285732351582j), 0.32635655746629033, 0.19082879556763763, -0.1486910808018722, 1.167998994283125, -0.0025458362177730727, 0.02576549376579894, (1.2246504658255888+0j), (0.009169734577639997+0.007878465675144428j), (0.009169734577639997-0.007878465675144428j), 1.0760484108150483, -0.18201037867618353, 0.01485562757201904, (0.5662191366436637+0j), (-0.06935746912540484+0.0280527901437701j), (-0.06935746912540484-0.0280527901437701j), (0.5759675817705433+0j), (-0.009773632891091037+0.04688513238751765j), (-0.009773632891091037-0.04688513238751765j), 0.500274004595524, -0.01824012511092601, 0.015364817355211674, 0.5898344781707724, 0.0985251378862934, -0.0929358244995148, 0.5805654525844529, 0.08003546393085202, -0.0503750453099746, (0.9263516494126522+0j), (-0.003974630360375044+0.01242871729819436j), (-0.003974630360375044-0.01242871729819436j), (1.0307571035863838+0j), (0.011356357249523852+0.020882420999278277j), (0.011356357249523852-0.020882420999278277j), 1.1072168466445789, 0.025426288723854207, -0.18394257324894908, (0.4656022485848619+0j), (0.06633020953554157+0.026914148177091934j), (0.06633020953554157-0.026914148177091934j), 0.7856012594894991, -0.01403906123877771, 0.13223086103873385, 0.5847073269251606, -0.05824210473583702, 0.050602879425390594, (0.39629380836591294+0j), (-0.05009837105624461+0.10420063983181356j), (-0.05009837105624461-0.10420063983181356j), (-0.12310137276797033+0.14474409904991786j), (-0.12310137276797033-0.14474409904991786j), (1.0973192165285055+0j), 1.0327330820341072, 0.1662220536470439, 7.607202935330235e-05, 0.6242436391416787, 0.0786059345034126, -0.07341492846915838, 0.3135948181178767, -0.1171962890527255, 0.11958364878843292, (0.2714232479795277+0.06569875023667973j), (0.2714232479795277-0.06569875023667973j), (0.04486388459514378+0j), 1.0658544590290195, 0.06209143293461953, 0.005185336423716746, 1.0286819657386297, 0.14260702064283698, -0.013493858434583705, 0.8952798247664607, -0.05866046560889054, 0.015936010800712382, 1.130309739308216, -0.008832278707288787, 0.04142833396743332, 1.1893822647334744, -0.0181737935840508, 0.009435679673932192, 1.1311453259680957, 0.05276487583221858, -0.008195688513365409, 1.117317252587111, 0.004532556345013425, -0.008270803929147873, (0.9685889176489973+0j), (-0.15620481182943124+0.1826679471249053j), (-0.15620481182943124-0.1826679471249053j), 1.0055179300984836, -0.12536619448110362, 0.005664268509884865, 0.824779010883489, 0.07428446804552545, -0.04206082574746134, 0.5185365529404509, -0.12431136412592314, -0.06073531816197131, 0.8709222143357999, 0.04132242344111258, 0.005629996488988496, (0.23035866031212854+0.09425686568930314j), (0.23035866031212854-0.09425686568930314j), (-0.07919264230456437+0j), 0.64155240598252, -0.1522568644488932, -0.0004291043070926561, (0.7624891433011246+0j), (0.1518031565899276+0.07700598866159908j), (0.1518031565899276-0.07700598866159908j), 0.634515794324831, -0.08017254588072778, 0.018862269626505945, 0.727658610138874, -0.01710659574415423, -0.10744567958923161, 0.555049140120841, -0.06638084393104061, -0.34659639343787785, (-0.053592255046043494+0.16230093351324992j), (-0.053592255046043494-0.16230093351324992j), (0.7553367254983847+0j), 0.6552684723219266, -0.02759135980873103, -0.13423427908958072, 0.8367231520656453, -0.48116108047126777, -0.15005941251196503, 1.1665623595855539, -0.014022726674091494, 0.1433063823034573, 0.8004506090085273, -0.09514750081952184, -0.2650882432793565, 0.8775778001287561, 0.0012088284051501375, 0.22629463167040886, (0.5970692440908669+0j), (-0.0076377900337932765+0.04106769846735975j), (-0.0076377900337932765-0.04106769846735975j), 1.3165077514051422, -0.05580849601432924, 0.007172914223025486, 0.8903963653375879, -0.3721685739544569, -0.1426213141225418, 0.6540861268171249, -0.015432259140585707, 0.006017239965813411, 0.5372227752153549, -0.15233058530244062, -0.013193855099796434, 0.5192636357726216, 0.03688262090488345, 0.003165729292038436, 0.638270599429732, -0.3554052101808755, -0.004808015188701929, 0.8633053907275555, -0.07256360020841524, 0.019073161794759357, 1.0768369861759624, 0.42913378444078953, -0.026397245128375425, (-0.011029182889787714+0.25433963255368186j), (-0.011029182889787714-0.25433963255368186j), (1.1716271232875248+0j), 1.1917231023182095, 0.33743600046578753, 0.015006821407478317, 1.0785624623112746, -0.26406550676228996, -0.015302582358581845, 1.148354119257649, 0.006276884801229313, 0.04654454569807483, 1.0860189146242334, 0.007149794659535829, -0.0006868814547368375, (0.8569015860387087+0j), (-0.028806511304199953+0.11088480057273312j), (-0.028806511304199953-0.11088480057273312j), 0.6576587836454211, 0.09016374301992897, -0.04779527272092297, (0.8017956313808479+0j), (-0.17845225879647936+0.08473553454613662j), (-0.17845225879647936-0.08473553454613662j), (0.7019981838671872+0j), (0.0069691713944818184+0.027990575045581997j), (0.0069691713944818184-0.027990575045581997j), 1.1736002293413321, 0.16710470461321414, 0.00805642668667369, (1.1568266702524255+0j), (0.010990739348957158+0.008220013167852803j), (0.010990739348957158-0.008220013167852803j), 0.8986742949724196, -0.06199557218648979, 0.011241443542620829, 1.202889979022867, -0.006178750392400961, -0.13537918164484097, (1.193045631724648+0j), (-0.02108201045694598+0.002877106094427389j), (-0.02108201045694598-0.002877106094427389j), 1.016149363587939, -0.01228573557828359, 0.13805920352568335, 0.820195091031738, -0.2220084745696563, -0.09121917621454594, 0.804708889585395, -0.09871865071558826, 0.13640191516814568, (0.4590354549132025+0j), (0.017135378607003104+0.0066146852880833535j), (0.017135378607003104-0.0066146852880833535j), 0.5274457086787712, 0.007236242752434616, 0.21253865418059545, 0.6146385993346033, -0.05625251184403348, 0.008692481947737885, 0.7068454775154646, -0.03031560942462475, -0.002642254861386203, 0.8458886516758364, -0.44457772670012025, 0.08550002744928638, 0.8084415854337796, 0.015828118085427365, -0.010467520844798872, 0.8482605155114317, -0.07158298189303511, 0.036502480872685164, 0.7151341143971882, -0.002066091267054308, -0.042158406033947465, 0.5041494100945639, 0.00023898752650872027, -0.21212190954581644, 1.0728551275174594, 0.04309477914854038, 0.46771437649039566, 1.0485393825112945, -0.006337509212796923, 0.010522250633923185, 1.1255045531840453, 0.07388618882950622, -0.07252307144770843, 0.9433422414227739, -0.015496772020806784, 0.02982546276803654, 1.4055502318177986, 0.4162061251182265, -0.016138834487723477, (1.441398598785511+0j), (-0.09368590944027434+0.11137928634875026j), (-0.09368590944027434-0.11137928634875026j), (1.1729028852759809+0j), (0.021146761527706805+0.03326016452777715j), (0.021146761527706805-0.03326016452777715j), 1.283955212121704, 0.02849085214834218, 0.03287713327357534, 1.186725513577236, -0.22789216900244794, 0.026107288602968504, 1.0798071894001686, 0.16444823594413047, -0.061996931145976104, 1.2056644517081994, -0.03986760909573834, -0.21162265185280277, 0.89957445540232, 0.024682209174188972, 0.17128304683925757, -0.09868840904921172, 0.6150269811247799, 0.39414624852875607, (1.5023716491773125+0j), (-0.08304000036489964+0.053360200099568614j), (-0.08304000036489964-0.053360200099568614j), 1.431742524810928, 0.06115155876015757, -0.08321811662281442, 1.0020666870056627, -0.2913217661262716, -0.012529540568378173, 0.6903532083554544, 0.1859678737881828, -0.06780501934752066, 1.1606715147249245, 0.1187757696210976, -0.2906934142164359, (1.2960636275038713+0j), (-0.028400694679497913+0.04648129029355159j), (-0.028400694679497913-0.04648129029355159j), 1.4227772460048276, 0.0007905340409253513, 0.01755726269077797, 1.145148952113983, 0.1723958998272616, -0.027525485051053213, 1.3271607377976367, 0.03378279142007007, -0.02494528463409858, 1.2725804720070977, -0.0036159369377397337, 0.002604083645451435, 1.3467955720360782, -0.0005360600204550979, -0.006635781385941009, 1.336888862628676, -0.08030765792430905, 0.49089844269362876, 1.3859755527198847, -0.0015085402328082554, -0.10236978461565921, 1.0940234986927688, -0.03587372939020083, 0.11866167247656836, 1.1669782914614952, 0.22872702188649305, -0.09034676190536589, (0.875993895301123+0j), (0.05431838941132086+0.16715573396235278j), (0.05431838941132086-0.16715573396235278j), 0.6542932688559788, -0.07281729038361501, 0.00577596785770672, 1.2248638038760495, 0.03397571590615761, -0.06543991444095236, 1.0989919763456348, 0.0660456900121783, -0.08000265518551863, (1.4222330658364517+0j), (-0.028740415472697373+0.0207313184607144j), (-0.028740415472697373-0.0207313184607144j), 1.1282047435906646, 0.004527319748389141, -0.01769485305338928, (1.0611660940661523+0j), (0.029436230003114815+0.19654466971503942j), (0.029436230003114815-0.19654466971503942j), (-0.04160024723178617+0j), (0.7004662851530633+0.16685375190571472j), (0.7004662851530633-0.16685375190571472j), (1.020371158556775+0j), (0.09233939231105892+0.021436435522605768j), (0.09233939231105892-0.021436435522605768j), (1.3533387054140122+0j), (-0.06286979561720046+0.21304885269910973j), (-0.06286979561720046-0.21304885269910973j), 1.322722263010753, 0.35257912664953617, -0.0072081851619964585, 1.7169323155594598, -0.07438808527088529, 0.24692917817204157, 1.2545919154706242, -0.24363282213190005, 0.15722448670220698, (1.299758566558638+0j), (-0.024161714544192674+0.024615755839805454j), (-0.024161714544192674-0.024615755839805454j), 1.5427773096157438, 0.11562208329212147, -0.326127779727228, (1.7341234035665358+0j), (-0.08104687085683476+0.091067863265164j), (-0.08104687085683476-0.091067863265164j), 0.9812363145403398, 0.015309008877929166, 0.0820232319964068, 0.9523883700382201, -0.023886325228081536, 0.005671856755233987, 1.0738525290722527, 0.004358466218947931, 0.2995958768382408, 1.1735023222489323, 0.2408487789277582, -0.08025438632244898, 1.467373084029186, 0.1458464411370655, -0.07295448655674693, (1.694704834951295+0j), (-0.17094643710750246+0.23748834686966694j), (-0.17094643710750246-0.23748834686966694j), (1.3325182051743447+0j), (0.25417358421855296+0.22281029856731296j), (0.25417358421855296-0.22281029856731296j), (1.3030529135503734+0j), (-0.0029861387629488245+0.002580470196276142j), (-0.0029861387629488245-0.002580470196276142j), (1.4088820201789274+0j), (0.009238771210551593+0.042401907500966084j), (0.009238771210551593-0.042401907500966084j), 1.3911896928392522, -0.011193705966635301, 0.008066025509235294, 1.2441970305418013, -0.15249932832302776, 0.0741408057166308, 1.1145120011509573, 0.26501258914134956, 0.15801592000451525, 1.14813410681946, 0.25759734274607005, -0.1054818878980882, (1.2215084662564042+0j), (0.17098231958709925+0.03862318563651345j), (0.17098231958709925-0.03862318563651345j), (1.404314222490234+0j), (0.057861251942437894+0.04683079315767031j), (0.057861251942437894-0.04683079315767031j), 1.392160448316723, 0.09629948894010616, -0.11974903380598184, 1.357073007681104, 0.23055998863359115, -0.04669446247213176, 1.6363295662767559, 0.011784359130195167, -0.14522161746980589, 1.5952200464337898, 0.10931134964888604, -0.21708293472889734, 1.0238591305457858, -0.009473524657487237, -0.06318172319405405, 0.8472323862966382, -0.040506637068988154, 0.00864681094562285, 1.0242680388562315, -0.009517523316481381, 0.11204219100941817, 1.4799917133231906, -0.08732140033812884, -0.04189982832896573, (1.0992849846037733+0j), (0.0007158164101337694+0.0024365704798459398j), (0.0007158164101337694-0.0024365704798459398j), 1.2336961199961225, 0.10917371672826649, -0.403531748688806, (0.8724677674402814+0j), (0.030839236456651202+0.03670514211089375j), (0.030839236456651202-0.03670514211089375j), 1.029068665618604, 0.026776739569018257, -0.10143251272679969, 0.9508582030045739, -0.10949722823186783, -0.02356449672473908, (0.9492721269936752+0j), (-0.0196131109774806+0.032099781046022326j), (-0.0196131109774806-0.032099781046022326j)"
    ddd = "0.19918773716070365, 0.118474189197727, 0.198040713669695, 0.11678946529014814, 0.056270775898434724, 0.1663810795530001, 0.33580936290948094, 0.34463636993085633, 0.06078016705553682, 0.1955020899870349, 0.783633463817909, 0.02371248640263463, 0.021222056298487526, 0.015157368897356818, 0.020763179339513157, 0.024615304712323084, 0.02556532064888675, 0.052399760000475394, 0.3508012098703296, 0.0681727737272148, 0.6688998423267309, 0.38814821084877116, 0.041506352410024615, 0.04092253141011236, 0.06679700789071255, 0.17229430274590027, 0.13620412292280493, 0.04435047760250554, 0.08655140396596016, 0.03519885975203077, 0.1188410157690832, 0.5877882638045886, 0.6318461903661695, 0.24143502209067028, 0.15511326730831926, 0.29902036785859926, 0.24886603525050868, 0.053664886077677734, 0.06748591873256565, 0.04851776106753526, 0.05928147569231136, 0.041216791198994046, 0.10894161338751508, 0.3828619672526505, 0.042990320576453384, 0.5064604957292015, 0.3255757450750812, 0.1461653528810969, 0.024296996376918782, 0.2232315854476509, 0.37106782270180777, 0.40844349184737333, 0.06510807303522459, 0.18969330888166466, 0.3917134818505515, 0.11434741070674219, 0.5049735381110184, 0.407718431269095, 0.5908900399336071, 0.037742700054204464, 0.24864434567589586, 0.022254547939630602, 0.6489547024785666, 0.48108271260915564, 0.40445348786461627, 0.03916449035861881, 0.16233354440298206, 0.2103923545603252, 0.20507689185487651, 0.24765421148330644, 0.08018441732661252, 0.7023263282234571, 0.048590106126287703, 0.04383497256687445, 0.18334677598710222, 0.23099962318199055, 0.02983484577833823, 0.022245799489087652, 0.2817899350378725, 0.24798672355492002, 0.035257333779820675, 0.03644973003141302, 0.1206681392650269, 0.05369721445828138, 0.026425930709267065, 0.025335276073591123, 0.01814137731136743, 0.0733545451620091, 0.01062363704602399, 0.01643552453969978, 0.018968403748019905, 0.12004024012032173, 0.5702394290420022, 0.7248531872367779, 0.2636213389038552, 0.009347056622142512, 0.2103497995450331, 0.07660632680715368, 0.07112267260907955, 0.1964534719284076, 0.07212123193900623, 0.13159393261397684, 0.5702279160335153, 0.07421469155861386, 0.0729506627465793, 0.7176667039797998, 0.6969519898263054, 0.08968028732264596, 0.09509728680105559, 0.433723507026483, 0.11572277504636554, 0.2771271034600605, 0.2337458657390486, 0.2918712380899908, 0.16717934413699145, 0.4408531409450083, 0.10552431746702064, 0.06498485489730416, 0.07830984477273639, 0.059916801564772, 0.04908813181769483, 0.1337626696299412, 0.47180946700664594, 0.25610564825464793, 0.5334694695351987, 0.20338914341615727, 0.5629680476972821, 0.544776665616169, 0.19023252651921002, 0.3149465078570276, 0.3496766340698799, 0.6599404147378158, 0.5898156372594602, 0.2556151068008639, 0.5549977607887399, 0.08835685166866007, 0.3653478144316178, 0.26519578443383635, 0.5120127522438832, 0.7582089065036604, 0.4487094985805581, 0.19247308214996733, 0.35265231878178677, 0.20688330125381715, 0.03798985240076915, 0.44927251294991055, 0.3418223088871442, 0.5185551752858578, 0.14796750286848437, 0.07414785706487811, 0.9399851234522605, 0.972514120243773, 0.7034465738848159, 0.03401516965036039, 0.022573575181344348, 0.2917512186454859, 0.27036728651708397, 0.0379676366700175, 0.03655460919673732, 0.03841328281657117, 0.027991189583978733, 0.3386119244817329, 0.3398884901497933, 0.43665252083142314, 0.1412253558575665, 0.11783408652231475, 0.097289249204414, 0.38238853529711664, 0.7025986348950674, 0.07318612492863241, 0.16199917362812183, 0.44050274085636165, 0.6256074395539619, 0.16327358454376853, 0.6105089767544498, 0.17194093373039326, 0.4941173469083386, 0.5024842722105085, 0.015275752957625548, 0.02068124953003185, 0.024526792066916138, 0.047397155738803654, 0.09227607559007092, 0.012767266381501783, 0.013201128342042193, 0.049793334231477276, 0.19803111232556211, 0.4050869024081644, 0.0992276377752088, 0.030372410641499027, 0.4643917515146243, 0.2688585253737586, 0.5632294390587245, 0.6202658416743113, 0.5368622902011465, 0.06680053892629921, 0.04195937015619132, 0.14708485199921165, 0.5107938736000692, 0.04478386597267202, 0.0687364831184556, 0.18835612100764432, 0.24609782499104163, 0.27620387145632547, 0.2888115203142219, 0.07217463352252212, 0.09585183030325169, 0.36794971175635094, 0.4684494266390734, 0.4074634220800229, 0.06973485788464714, 0.1282829681652325, 0.2067288953667698, 0.155823247951362, 0.22337176318152108, 0.31467146179298205, 0.3100272464269369, 0.13950946421260035, 0.05521956246382176, 0.09760572175845188, 0.3162683754655962, 0.07214091186740208, 0.05804007116063892, 0.05094528765595248, 0.045411251549070775, 0.10515992750551942, 0.24342879900722864, 0.2618476986555073, 0.04890476181775181, 0.05554420476061527, 0.05309255210034443, 0.04291977573565974, 0.031678789893510806, 0.5527844433034433, 0.6318943055267504, 0.15073793032600644, 0.11924788799185185, 0.03671805754782624, 0.027322065207448207, 0.10821456087388923, 0.12913361235111132, 0.05084374745879817, 0.30687671805176475, 0.03377267244245003, 0.029744028005079064, 0.24298195657397248, 0.028633218875624106, 0.4325566752501267, 0.3503300624015223, 0.40702952821506705, 0.6768122250821249, 0.39178594469441913, 0.04146476092690421, 0.040962112983680035, 0.06703662006621876, 0.17253764268234215, 0.13749597395857002, 0.04446817205349299, 0.08653503511454115, 0.03488652235468496, 0.1188028345692003, 0.5929834946333564, 0.6371537638852278, 0.2411986711023102, 0.15492750649817957, 0.3022863887682289, 0.25230311392242516, 0.05398275371747406, 0.06751362863670766, 0.04903574076743128, 0.059739227065657347, 0.04176192807251192, 0.10890075317703075, 0.3845961195021078, 0.04319437059419293, 0.5116128685674014, 0.3279659003564111, 0.14692307305073202, 0.02473130368446334, 0.2239540060877922, 0.37314978018064204, 0.4127475505480657, 0.06432049034988327, 0.19165945682049074, 0.3956100667418922, 0.1146514156535042, 0.507587700089409, 0.4073539309124461, 0.5896746050371947, 0.03777839081754327, 0.25026432706738116, 0.02264659079921751, 0.6567893103257105, 0.4856304778692834, 0.40791437437880246, 0.03945478370388971, 0.16285294925888116, 0.20695852093077294, 0.20310003526707734, 0.24394997047923178, 0.08115928469996438, 0.7112275255237323, 0.04946175390016312, 0.044235159790562494, 0.18477074360189819, 0.23239224081447224, 0.029594283811997895, 0.0219855013978647, 0.2837198329741085, 0.249971140675405, 0.03545505441817914, 0.03661624284950066, 0.1197083519632085, 0.053461579400546105, 0.02622040783530016, 0.02523942372000243, 0.017890664529684103, 0.07370431312268504, 0.01048088976757124, 0.016463966510686517, 0.018611031504810405, 0.11993603594862687, 0.572575968913479, 0.5944757824902528, 0.009800084222940866, 0.21164252287568913, 0.07819613273542701, 0.07270327333518418, 0.1991902581577163, 0.07190935492595545, 0.132740933447851, 0.5761011021956173, 0.07477350784842739, 0.07373425842365916, 0.7229379945217957, 0.6989033990826836, 0.08970021341470849, 0.09542359885372813, 0.43024633201424983, 0.11545493849632106, 0.27682384637139346, 0.23374305771507414, 0.2931354276038538, 0.16760860256219856, 0.4437529461110652, 0.1051862997968322, 0.06507910240478172, 0.07830274905906355, 0.05997312469417407, 0.049077642950410234, 0.1338023778654076, 0.4709270377944056, 0.25734562992488635, 0.5392784997766019, 0.2061026874402085, 0.565144703200743, 0.5464604527980128, 0.19059961305711842, 0.3183193142673671, 0.3528092180304111, 0.6594277676189838, 0.5884874700847006, 0.25685972448905897, 0.5542783355126524, 0.0886428512490465, 0.3711710363921228, 0.26965958552307334, 0.5180989244979592, 0.7661119055819824, 0.44706945559967337, 0.19527478174203367, 0.35517371547396037, 0.2064140429151897, 0.03785394934199377, 0.4547952039352934, 0.34591158448718723, 0.5243342040803496, 0.14915612037258036, 0.07470270653854337, 0.6124723106661297, 0.033859208954864786, 0.022348299137973666, 0.29270193339054895, 0.27078968578738827, 0.03804257532620372, 0.03635183162900492, 0.03807093993918383, 0.02783070070802402, 0.33950961397624807, 0.3412394899585707, 0.3785199185720476, 0.11876157511908053, 0.09731096528365939, 0.39125185925301526, 0.07360552371321381, 0.1638095052364274, 0.44337551534069725, 0.6256646782412378, 0.1646818750043414, 0.6270952090674515, 0.4995018051944151, 0.5055501384528724, 0.015038335501064409, 0.020695426037892855, 0.02412607858505984, 0.04716441904989823, 0.09024773065090312, 0.012611290003080524, 0.013393249231559571, 0.05085252758152193, 0.20079439320795203, 0.4040214287345006, 0.09965725041488668, 0.03026036189780291, 0.46874192073922843, 0.2702866056688764, 0.561817703012668, 0.619853134203669, 0.5419566122750489, 0.11232629595684157, 0.45745290126383686, 0.1902694191756889, 0.24562048105635273, 0.2760695156988212, 0.2897861618267585, 0.07316654578906559, 0.09630404192559085, 0.3704876116534555, 0.4689693995062606, 0.4058051545207603, 0.07052160189544432, 0.12856060875320385, 0.2068646311329522, 0.15647893441690974, 0.2241998786117652, 0.314816457908148, 0.30999985126767976, 0.14033123876503814, 0.056193442967576314, 0.09857719591185578, 0.3183514838217398, 0.07281174627915883, 0.05793498610024592, 0.050622861938125145, 0.04490688134800322, 0.10496421294464267, 0.2429587328079435, 0.2610468033492739, 0.0490729107281335, 0.05577884355157173, 0.0529471245037149, 0.04274201344045116, 0.03142906293530958, 0.5531949198600449, 0.634286757095465, 0.151799116104473, 0.11983475154169064, 0.036832541070780815, 0.027340709170698665, 0.10981059489011046, 0.13101527725782017, 0.051015134671952476, 0.30904517261274794, 0.03372215205332888, 0.02969203084876416, 0.24355408093459513, 0.028243240958112453, 0.5656528676524376"
    A = np.array(str_to_feature(sss))
    B = np.array(str_to_feature(ddd))

    dist = np.linalg.norm(A - B)
    print(dist)
    sim = 1.0 / (1.0 + dist) #归一化
    print(sim)

    # ss = "0.6247431053858918+0j"
    # aa = complex(ss)
    # print(aa)

